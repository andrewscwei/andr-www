---
title: 'Linux User Management'
cover: 'https://andr-mu.cdn.prismic.io/andr-mu/c3d6eb514e50209be3f92bb51f35e44a0e122519_linux.png'
markdown: "<h2 id=\"where-user-info-are-stored\">Where User Info Are Stored</h2>\n<ol>\n<li><code>/etc/passwd</code>: List of users.</li>\n<li><code>/etc/shadow</code>: Users&#39; encrypted password.</li>\n<li><code>/etc/group</code>: List of groups.</li>\n<li><code>/etc/default/useradd</code>: Value for the default group if none is specified by the <code>useradd</code> command.</li>\n<li><code>/etc/login.defs</code>: Defines site-specific configurations for the shadow passwords stored in the <code>/etc/shadow</code> file.</li>\n</ol>\n<h2 id=\"managing-users\">Managing Users</h2>\n<p>A user can belong to 1 primary group and muliple secondary groups.</p>\n<h4 id=\"to-add-a-new-user-by-default-this-creates-a-new-group-with-the-same-name-and-assigns-this-new-user-s-primary-group-to-the-new-group-\">To add a new user (by default this creates a new group with the same name and assigns this new user&#39;s primary group to the new group):</h4>\n<pre><code class=\"language-bash\">$ useradd username\n</code></pre>\n<h4 id=\"to-add-a-new-user-and-assign-its-primary-group-to-an-existing-group-\">To add a new user and assign its primary group to an existing group:</h4>\n<pre><code class=\"language-bash\">$ useradd -g {primary_group_name} {username}\n</code></pre>\n<h4 id=\"to-add-a-new-user-and-assign-its-secondary-group-to-an-existing-group-primary-group-is-still-the-same-as-the-username-\">To add a new user and assign its secondary group to an existing group (primary group is still the same as the username):</h4>\n<pre><code class=\"language-bash\">$ useradd -G {secondary_group_name, secondary_group_name, ...} {username}\n</code></pre>\n<h4 id=\"to-create-a-new-home-directory-and-assign-its-ownership-to-the-new-user-\">To create a new home directory and assign its ownership to the new user:</h4>\n<pre><code class=\"language-bash\">$ mkdir /home/username\n$ chown {username} /home/username\n</code></pre>\n<h4 id=\"to-create-change-a-password-\">To create/change a password:</h4>\n<pre><code class=\"language-bash\">$ passwd {username}\n</code></pre>\n<h4 id=\"to-delete-a-user-\">To delete a user:</h4>\n<pre><code class=\"language-bash\">$ userdel {username}\n</code></pre>\n<h4 id=\"to-delete-a-user-along-with-its-home-directory-and-mail-spool-\">To delete a user along with its home directory and mail spool:</h4>\n<pre><code class=\"language-bash\">$ userdel -r {username}\n</code></pre>\n<h4 id=\"to-check-the-status-of-a-user-\">To check the status of a user:</h4>\n<pre><code class=\"language-bash\">$ id {username}\n</code></pre>\n<h4 id=\"to-check-the-secondary-groups-which-a-user-belongs-to-\">To check the secondary groups which a user belongs to:</h4>\n<pre><code class=\"language-bash\">$ id -nG {username}\n</code></pre>\n<h4 id=\"to-change-an-existing-user-s-primary-group-\">To change an existing user&#39;s primary group:</h4>\n<pre><code class=\"language-bash\">$ usermod -g {primary_group_name} {username}\n</code></pre>\n<h4 id=\"to-overwrite-an-existing-user-s-secondary-groups-\">To overwrite an existing user&#39;s secondary groups:</h4>\n<pre><code class=\"language-bash\">$ usermod -G {secondary_group_name, secondary_group_name, ...} {username}\n</code></pre>\n<h4 id=\"to-add-a-secondary-group-to-an-existing-user-\">To add a secondary group to an existing user:</h4>\n<pre><code class=\"language-bash\">$ usermod -a -G {secondary_group_name} {username}\n</code></pre>\n<h4 id=\"to-change-a-user-s-default-shell-to-bash-for-example-\">To change a user&#39;s default shell (to bash, for example):</h4>\n<pre><code class=\"language-bash\">$ usermod -s /bin/bash {username}\n</code></pre>\n<h2 id=\"managing-user-groups\">Managing User Groups</h2>\n<p>There are two types of user groups in the Linux system: primary and secondary. Groups are defined in <code>/etc/group</code>.</p>\n<h4 id=\"to-create-a-new-group-\">To create a new group:</h4>\n<pre><code class=\"language-bash\">$ groupadd {group_name}\n</code></pre>\n<h4 id=\"to-delete-an-existing-group-\">To delete an existing group:</h4>\n<pre><code class=\"language-bash\">$ groupdel {group_name}\n</code></pre>\n<h4 id=\"to-check-the-status-of-a-group-\">To check the status of a group:</h4>\n<pre><code class=\"language-bash\">$ grep {group_name} /etc/group\n</code></pre>\n"
date: '2015-05-30'
id: V22qQSUAAGMSR82h
uid: linux-user-management
type: log
tags:
    - systems
---
